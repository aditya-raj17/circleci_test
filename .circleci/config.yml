version: 2.1

jobs:
  build:
    docker:
      - image: ghcr.io/cirruslabs/flutter:3.22.2
      - image: alpine/git:latest
    steps:
      - run:
          name: "Creating Env file"
          command: |
            echo "Creating .env file for staging environment"
            cat > .env <<EOF
            REALM=prod
            EOF
            echo "Environment file created:"
            cat .env

      - store_artifacts:
          path: .env
          destination: env-file

workflows:
  say-hello-workflow:
    jobs:
      - build
